import{k as F,l as Q,j as L,m as V,o as W,p as O,q as X,u as Z,v as $,w as j,x as B,E as ee,y as q,z as re,A as ne,B as fe,h as I,C as H,D as ae,F as le,G as ie,H as ue,J as U,K as z,L as b,M as se,O as oe,P as A,Q as G,R as J,S as D,T as te,U as ve,V as de,W as ce}from"./template.Curu-4E1.js";function Ee(e,a){return a}function pe(e,a,l){for(var v=[],h=a.length,u,i=a.length,n=0;n<h;n++){let s=a[n];J(s,()=>{if(u){if(u.pending.delete(s),u.done.add(s),u.pending.size===0){var c=e.outrogroups;y(B(u.done)),c.delete(u),c.size===0&&(e.outrogroups=null)}}else i-=1},!1)}if(i===0){var o=v.length===0&&l!==null;if(o){var f=l,t=f.parentNode;ve(t),t.append(f),e.items.clear()}y(a,!o)}else u={pending:new Set(a),done:new Set},(e.outrogroups??=new Set).add(u)}function y(e,a=!0){for(var l=0;l<e.length;l++)de(e[l],a)}var Y;function Te(e,a,l,v,h,u=null){var i=e,n=new Map;{var o=e;i=I?H(ae(o)):o.appendChild(F())}I&&le();var f=null,t=$(()=>{var d=l();return j(d)?d:d==null?[]:B(d)}),s,c=!0;function R(){_.fallback=f,he(_,s,i,a,v),f!==null&&(s.length===0?(f.f&A)===0?G(f):(f.f^=A,M(f,null,i)):J(f,()=>{f=null}))}var r=Q(()=>{s=L(t);var d=s.length;let T=!1;if(I){var g=ie(i)===ue;g!==(d===0)&&(i=U(),H(i),z(!1),T=!0)}for(var x=new Set,m=W,N=Z(),C=0;C<d;C+=1){I&&b.nodeType===se&&b.data===oe&&(i=b,T=!0,z(!1));var S=s[C],p=v(S,C),E=c?null:n.get(p);E?(E.v&&V(E.v,S),E.i&&V(E.i,C),N&&m.unskip_effect(E.e)):(E=ge(n,c?i:Y??=F(),S,p,C,h,a,l),c||(E.e.f|=A),n.set(p,E)),x.add(p)}if(d===0&&u&&!f&&(c?f=O(()=>u(i)):(f=O(()=>u(Y??=F())),f.f|=A)),d>x.size&&X(),I&&d>0&&H(U()),!c)if(N){for(const[K,P]of n)x.has(K)||m.skip_effect(P.e);m.oncommit(R),m.ondiscard(()=>{})}else R();T&&z(!0),L(t)}),_={effect:r,items:n,outrogroups:null,fallback:f};c=!1,I&&(i=b)}function k(e){for(;e!==null&&(e.f&te)===0;)e=e.next;return e}function he(e,a,l,v,h){var u=a.length,i=e.items,n=k(e.effect.first),o,f=null,t=[],s=[],c,R,r,_;for(_=0;_<u;_+=1){if(c=a[_],R=h(c,_),r=i.get(R).e,e.outrogroups!==null)for(const p of e.outrogroups)p.pending.delete(r),p.done.delete(r);if((r.f&A)!==0)if(r.f^=A,r===n)M(r,null,l);else{var d=f?f.next:n;r===e.effect.last&&(e.effect.last=r.prev),r.prev&&(r.prev.next=r.next),r.next&&(r.next.prev=r.prev),w(e,f,r),w(e,r,d),M(r,d,l),f=r,t=[],s=[],n=k(f.next);continue}if((r.f&D)!==0&&G(r),r!==n){if(o!==void 0&&o.has(r)){if(t.length<s.length){var T=s[0],g;f=T.prev;var x=t[0],m=t[t.length-1];for(g=0;g<t.length;g+=1)M(t[g],T,l);for(g=0;g<s.length;g+=1)o.delete(s[g]);w(e,x.prev,m.next),w(e,f,x),w(e,m,T),n=T,f=m,_-=1,t=[],s=[]}else o.delete(r),M(r,n,l),w(e,r.prev,r.next),w(e,r,f===null?e.effect.first:f.next),w(e,f,r),f=r;continue}for(t=[],s=[];n!==null&&n!==r;)(o??=new Set).add(n),s.push(n),n=k(n.next);if(n===null)continue}(r.f&A)===0&&t.push(r),f=r,n=k(r.next)}if(e.outrogroups!==null){for(const p of e.outrogroups)p.pending.size===0&&(y(B(p.done)),e.outrogroups?.delete(p));e.outrogroups.size===0&&(e.outrogroups=null)}if(n!==null||o!==void 0){var N=[];if(o!==void 0)for(r of o)(r.f&D)===0&&N.push(r);for(;n!==null;)(n.f&D)===0&&n!==e.fallback&&N.push(n),n=k(n.next);var C=N.length;if(C>0){var S=u===0?l:null;pe(e,N,S)}}}function ge(e,a,l,v,h,u,i,n){var o=(i&re)!==0?(i&ne)===0?fe(l,!1,!1):q(l):null,f=(i&ee)!==0?q(h):null;return{v:o,i:f,e:O(()=>(u(a,o??l,f??h,n),()=>{e.delete(v)}))}}function M(e,a,l){if(e.nodes)for(var v=e.nodes.start,h=e.nodes.end,u=a&&(a.f&A)===0?a.nodes.start:l;v!==null;){var i=ce(v);if(u.before(v),v===h)return;v=i}}function w(e,a,l){a===null?e.effect.first=l:a.next=l,l===null?e.effect.last=a:l.prev=a}export{Te as e,Ee as i};
