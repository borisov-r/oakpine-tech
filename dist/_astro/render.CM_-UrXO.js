import{L as g,h as v,aq as G,af as b,aD as V,l as Q,F as Z,H as ee,aE as L,p,a4 as F,k as J,aF as I,R as Y,aG as te,aH as P,aI as se,aJ as B,aK as re,aL as ie,at as D,ar as N,aM as W,aN as ae,as as U,X as K,m as ne,j as he,V as x,C as A,n as oe,J as fe,aO as T,a0 as le,aP as de,aQ as _e,y as ce,aR as ue,aS as pe,aT as M,D as ge,M as X,a1 as ve,W as ye,aU as k,K as w,aV as me,U as be,aW as Ee,x as Te,az as we,aX as Re,O as Se,aY as De,aA as Ne}from"./template.Curu-4E1.js";var Ae=le|de;function Oe(s,e,r,i){new Fe(s,e,r,i)}class Fe{parent;is_pending=!1;transform_error;#t;#g=v?g:null;#i;#f;#e;#a=null;#s=null;#r=null;#n=null;#l=0;#o=0;#d=!1;#_=new Set;#c=new Set;#h=null;#m=G(()=>(this.#h=ce(this.#l),()=>{this.#h=null}));constructor(e,r,i,h){this.#t=e,this.#i=r,this.#f=t=>{var a=b;a.b=this,a.f|=V,i(t)},this.parent=b.b,this.transform_error=h??this.parent?.transform_error??(t=>t),this.#e=Q(()=>{if(v){const t=this.#g;Z();const a=t.data===ee;if(t.data.startsWith(L)){const n=JSON.parse(t.data.slice(L.length));this.#E(n)}else a?this.#T():this.#b()}else this.#v()},Ae),v&&(this.#t=g)}#b(){try{this.#a=p(()=>this.#f(this.#t))}catch(e){this.error(e)}}#E(e){const r=this.#i.failed;r&&(this.#r=p(()=>{r(this.#t,()=>e,()=>()=>{})}))}#T(){const e=this.#i.pending;e&&(this.is_pending=!0,this.#s=p(()=>e(this.#t)),F(()=>{var r=this.#n=document.createDocumentFragment(),i=J();r.append(i),this.#a=this.#p(()=>(I.ensure(),p(()=>this.#f(i)))),this.#o===0&&(this.#t.before(r),this.#n=null,Y(this.#s,()=>{this.#s=null}),this.#u())}))}#v(){try{if(this.is_pending=this.has_pending_snippet(),this.#o=0,this.#l=0,this.#a=p(()=>{this.#f(this.#t)}),this.#o>0){var e=this.#n=document.createDocumentFragment();te(this.#a,e);const r=this.#i.pending;this.#s=p(()=>r(this.#t))}else this.#u()}catch(r){this.error(r)}}#u(){this.is_pending=!1;for(const e of this.#_)P(e,se),B(e);for(const e of this.#c)P(e,re),B(e);this.#_.clear(),this.#c.clear()}defer_effect(e){ie(e,this.#_,this.#c)}is_rendered(){return!this.is_pending&&(!this.parent||this.parent.is_rendered())}has_pending_snippet(){return!!this.#i.pending}#p(e){var r=b,i=U,h=K;D(this.#e),N(this.#e),W(this.#e.ctx);try{return e()}catch(t){return ae(t),null}finally{D(r),N(i),W(h)}}#y(e){if(!this.has_pending_snippet()){this.parent&&this.parent.#y(e);return}this.#o+=e,this.#o===0&&(this.#u(),this.#s&&Y(this.#s,()=>{this.#s=null}),this.#n&&(this.#t.before(this.#n),this.#n=null))}update_pending_count(e){this.#y(e),this.#l+=e,!(!this.#h||this.#d)&&(this.#d=!0,F(()=>{this.#d=!1,this.#h&&ne(this.#h,this.#l)}))}get_effect_pending(){return this.#m(),he(this.#h)}error(e){var r=this.#i.onerror;let i=this.#i.failed;if(!r&&!i)throw e;this.#a&&(x(this.#a),this.#a=null),this.#s&&(x(this.#s),this.#s=null),this.#r&&(x(this.#r),this.#r=null),v&&(A(this.#g),oe(),A(fe()));var h=!1,t=!1;const a=()=>{if(h){ue();return}h=!0,t&&_e(),this.#r!==null&&Y(this.#r,()=>{this.#r=null}),this.#p(()=>{I.ensure(),this.#v()})},_=n=>{try{t=!0,r?.(n,a),t=!1}catch(o){T(o,this.#e&&this.#e.parent)}i&&(this.#r=this.#p(()=>{I.ensure();try{return p(()=>{var o=b;o.b=this,o.f|=V,i(this.#t,()=>n,()=>a)})}catch(o){return T(o,this.#e.parent),null}}))};F(()=>{var n;try{n=this.transform_error(e)}catch(o){T(o,this.#e&&this.#e.parent);return}n!==null&&typeof n=="object"&&typeof n.then=="function"?n.then(_,o=>T(o,this.#e&&this.#e.parent)):_(n)})}}const R=Symbol("events"),Ie=new Set,q=new Set;let j=null;function z(s){var e=this,r=e.ownerDocument,i=s.type,h=s.composedPath?.()||[],t=h[0]||s.target;j=s;var a=0,_=j===s&&s[R];if(_){var n=h.indexOf(_);if(n!==-1&&(e===document||e===window)){s[R]=e;return}var o=h.indexOf(e);if(o===-1)return;n<=o&&(a=n)}if(t=h[a]||s.target,t!==e){pe(s,"currentTarget",{configurable:!0,get(){return t||r}});var y=U,E=b;N(null),D(null);try{for(var u,l=[];t!==null;){var f=t.assignedSlot||t.parentNode||t.host||null;try{var d=t[R]?.[i];d!=null&&(!t.disabled||s.target===t)&&d.call(t,s)}catch(c){u?l.push(c):u=c}if(s.cancelBubble||f===e||f===null)break;t=f}if(u){for(let c of l)queueMicrotask(()=>{throw c});throw u}}finally{s[R]=e,delete s.currentTarget,N(y),D(E)}}}const Ye=["touchstart","touchmove"];function xe(s){return Ye.includes(s)}function Ce(s,e){var r=e==null?"":typeof e=="object"?e+"":e;r!==(s.__t??=s.nodeValue)&&(s.__t=r,s.nodeValue=r+"")}function Me(s,e){return $(s,e)}function He(s,e){M(),e.intro=e.intro??!1;const r=e.target,i=v,h=g;try{for(var t=ge(r);t&&(t.nodeType!==X||t.data!==ve);)t=ye(t);if(!t)throw k;w(!0),A(t);const a=$(s,{...e,anchor:t});return w(!1),a}catch(a){if(a instanceof Error&&a.message.split(`
`).some(_=>_.startsWith("https://svelte.dev/e/")))throw a;return a!==k&&console.warn("Failed to hydrate: ",a),e.recover===!1&&me(),M(),be(r),w(!1),Me(s,e)}finally{w(i),A(h)}}const S=new Map;function $(s,{target:e,anchor:r,props:i={},events:h,context:t,intro:a=!0,transformError:_}){M();var n=void 0,o=Ee(()=>{var y=r??e.appendChild(J());Oe(y,{pending:()=>{}},l=>{we({});var f=K;if(t&&(f.c=t),h&&(i.$$events=h),v&&Re(l,null),n=s(l,i)||{},v&&(b.nodes.end=g,g===null||g.nodeType!==X||g.data!==Se))throw De(),k;Ne()},_);var E=new Set,u=l=>{for(var f=0;f<l.length;f++){var d=l[f];if(!E.has(d)){E.add(d);var c=xe(d);for(const O of[e,document]){var m=S.get(O);m===void 0&&(m=new Map,S.set(O,m));var H=m.get(d);H===void 0?(O.addEventListener(d,z,{passive:c}),m.set(d,1)):m.set(d,H+1)}}}};return u(Te(Ie)),q.add(u),()=>{for(var l of E)for(const c of[e,document]){var f=S.get(c),d=f.get(l);--d==0?(c.removeEventListener(l,z),f.delete(l),f.size===0&&S.delete(c)):f.set(l,d)}q.delete(u),y!==r&&y.parentNode?.removeChild(y)}});return C.set(n,o),n}let C=new WeakMap;function Ve(s,e){const r=C.get(s);return r?(C.delete(s),r(e)):Promise.resolve()}export{He as h,Me as m,Ce as s,Ve as u};
